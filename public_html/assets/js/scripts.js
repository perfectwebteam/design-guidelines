function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}(function(a,b){"function"==typeof define&&define.amd?define([],b):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=b():a.balanceText=b()})(this,function(){function a(){}function b(a,b){Array.prototype.forEach.call(a,b)}function c(a){"loading"===document.readyState?document.addEventListener?document.addEventListener("DOMContentLoaded",a):document.attachEvent("onreadystatechange",function(){"loading"!==document.readyState&&a()}):a()}function d(a,b,c){for(var d=arguments.length,e=Array(3<d?d-3:0),f=3;f<d;f++)e[f-3]=arguments[f];var g;return function(){function d(){c||a.apply(f,e),g=null}var f=this;g?clearTimeout(g):c&&a.apply(f,e),g=setTimeout(d,b||100)}}function e(){this.reset()}function f(a){return x.some(function(b){return b.start<a&&a<b.end})}function g(a,c){if(a.nodeType===a.ELEMENT_NODE){var d=window.getComputedStyle(a);if("nowrap"===d.whiteSpace){var e=a.outerHTML.length;x.push({start:y,end:y+e}),y+=e}else b(a.childNodes,function(a){g(a,!0)}),c&&(y+=a.outerHTML.length-a.innerHTML.length)}else y+=a.nodeType===a.COMMENT_NODE?a.length+7:a.nodeType===a.PROCESSING_INSTRUCTION_NODE?a.length+2:a.length}function h(a,b,c){if(0===c)a.style.whiteSpace=b,y=0,x=[],g(a,!1),a.style.whiteSpace="nowrap";else{var d=[];x.forEach(function(a){a.start>c&&d.push({start:a.start-c,end:a.end-c})}),x=d}}function i(a){var c=a.querySelectorAll("br[data-owner=\"balance-text-hyphen\"]");b(c,function(a){a.outerHTML=""}),c=a.querySelectorAll("br[data-owner=\"balance-text\"]"),b(c,function(a){a.outerHTML=" "});var d=a.querySelectorAll("span[data-owner=\"balance-text-softhyphen\"]");if(0<d.length&&b(d,function(a){var b=document.createTextNode("\xAD");a.parentNode.insertBefore(b,a),a.parentNode.removeChild(a)}),d=a.querySelectorAll("span[data-owner=\"balance-text-justify\"]"),0<d.length){var e="";b(d,function(a){e+=a.textContent,a.parentNode.removeChild(a)}),a.innerHTML=e}}function j(a,b,c){b=b.trim();var d=b.split(" ").length;if(b="".concat(b," "),2>d)return b;var e=document.createElement("span");e.innerHTML=b,a.appendChild(e);var f=e.offsetWidth;e.parentNode.removeChild(e);var g=Math.floor((c-f)/(d-1));e.style.wordSpacing="".concat(g,"px"),e.setAttribute("data-owner","balance-text-justify");var h=document.createElement("div");return h.appendChild(e),h.innerHTML}function k(a,b){var c,d=/([^\S\u00a0]|-|\u2014|\u2013|\u00ad)(?![^<]*>)/g;if(!w)for(w=[],c=d.exec(a);null!==c;)f(c.index)||w.push(c.index),c=d.exec(a);return-1!==w.indexOf(b)}function l(a,b){return 0===b||b===a.length||k(a,b-1)&&!k(a,b)}function m(a,b,d,e,f,g,h){var i;if(b&&"string"==typeof b)for(;;){for(;!l(b,g);)g+=f;if(a.innerHTML=b.substr(0,g),i=a.offsetWidth,0>f){if(i<=e||0>=i||0===g)break;}else if(e<=i||d<=i||g===b.length)break;g+=f}h.index=g,h.width=i}function n(a,b){var c=document.createElement("div");c.style.display="block",c.style.position="absolute",c.style.bottom=0,c.style.right=0,c.style.width=0,c.style.height=0,c.style.margin=0,c.style.padding=0,c.style.visibility="hidden",c.style.overflow="hidden";var d=document.createElement("span");d.style.fontSize="2000px",d.innerHTML="&nbsp;",c.appendChild(d),a.appendChild(c);var e=d.getBoundingClientRect();c.parentNode.removeChild(c);var f=e.height/e.width;return b/f}function o(a){return a?"string"==typeof a?document.querySelectorAll(a):a.tagName&&a.querySelectorAll?[a]:a:[]}function p(a){b(o(a),function(a){var b=5e3;i(a);var c=a.style.whiteSpace,d=a.style.float,f=a.style.display,g=a.style.position,k=a.style.lineHeight;a.style.lineHeight="normal";var l=a.offsetWidth,o=a.offsetHeight;a.style.whiteSpace="nowrap",a.style.float="none",a.style.display="inline",a.style.position="static";var p=a.offsetWidth,q=a.offsetHeight,r="pre-wrap"===c?0:n(a,q);if(0<l&&p>l&&5000>p){for(var s,t,u,v,x,y,z,A=a.innerHTML,B="",D="",E=C(a),F=Math.round(o/q),G=F,H=0;1<G;)w=null,h(a,c,H),s=Math.round((p+r)/G-r),t=Math.round((A.length+1)/G)-1,u=new e,m(a,A,l,s,-1,t,u),v=new e,t=u.index,m(a,A,l,s,1,t,v),u.reset(),t=v.index,m(a,A,l,s,-1,t,u),x=0===u.index?v.index:l<v.width||u.index===v.index?u.index:Math.abs(s-u.width)<Math.abs(v.width-s)?u.index:v.index,D=A.substr(0,x).replace(/\s$/,""),z=!!D.match(/\u00ad$/),z&&(D=D.replace(/\u00ad$/,"<span data-owner=\"balance-text-softhyphen\">-</span>")),E?B+=j(a,D,l):(B+=D,y=z||!!D.match(/(-|\u2014|\u2013)$/),B+=y?"<br data-owner=\"balance-text-hyphen\" />":"<br data-owner=\"balance-text\" aria-hidden=\"true\" />"),A=A.substr(x),H=x,G--,a.innerHTML=A,p=a.offsetWidth;a.innerHTML=E?B+j(a,A,l):B+A}a.style.whiteSpace=c,a.style.float=d,a.style.display=f,a.style.position=g,a.style.lineHeight=k})}function q(){var a=z.sel.join(","),b=o(a),c=Array.prototype.concat.apply(z.el,b);p(c)}function r(){A||(c(q),window.addEventListener("load",q),window.addEventListener("resize",d(q)),A=!0)}function s(a){"string"==typeof a?z.sel.push(a):b(o(a),function(a){z.el.push(a)}),r(),q()}function t(a){"string"==typeof a?z.sel=z.sel.filter(function(b){return b!==a}):(a=o(a),z.el=z.el.filter(function(b){return-1===a.indexOf(b)}))}function u(){B||(z.sel.push(".balance-text"),r(),B=!0)}function v(a,b){a?b&&!0===b.watch?s(a):b&&!1===b.watch?t(a):p(a):u()}var w,x,y,z={sel:[],el:[]},A=!1,B=!1;e.prototype.reset=function(){this.index=0,this.width=0};var C=function isJustified(a){var b=a.currentStyle||window.getComputedStyle(a,null);return"justify"===b.textAlign};return v.updateWatched=q,function a(){if("undefined"==typeof window)return!1;var b=document.documentElement.style;return b.textWrap||b.WebkitTextWrap||b.MozTextWrap||b.MsTextWrap}()?(a.updateWatched=a,a):v}),"querySelector"in document&&"addEventListener"in window&&function(){function a(a){var b=a.querySelector("[data-card-link]");null!==b&&a.classList.add("is-clickable-card")}var b,c,d=document.querySelectorAll("[data-card]"),e="is-clickable-card",f=200;d.forEach(function(b){a(b)},window);var g=new MutationObserver(function(b){b.forEach(function(b){b.addedNodes.forEach(function(b){if(b&&b.nodeType===Node.ELEMENT_NODE){var c=b.getAttribute("data-card")||!1;c&&a(b)}})})});g.observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("mousedown",function(){b=+new Date}),window.addEventListener("mouseup",function(a){c=+new Date;var d=a.target.closest("[data-card]"),e=a.target.closest("[data-card-ignore], [href]:not([data-card-link])");if(!d)return!1;var g=d.querySelector("[data-card-link]");d&&c-b<f&&!e&&(a.ctrlKey&&!0===a.ctrlKey||a.which&&2===a.which?window.open(g):g.click())}),balanceText()}();